<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ò–≥—Ä—É—à–∫–∞</title>
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ–±—â–∏–π —Ñ–∞–π–ª —Å—Ç–∏–ª–µ–π -->
  <link rel="stylesheet" href="css/styles.css">
  <style>
    canvas {
      display: block;
    }
    #counter {
      position: absolute;
      top: 70px;
      left: 20px;
      font-size: 1.5em;
      color: #fff;
      z-index: 1100;
    }
    #message {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2em;
      color: #e74c3c;
      display: none;
      z-index: 1100;
    }
  </style>
</head>
<body>
  <header>
    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="game.html">–ò–≥—Ä—É—à–∫–∞</a>
    <a href="quiz.html">–í–∏–∫—Ç–æ—Ä–∏–Ω–∫–∞</a>
    <a href="animation1.html">–ü—Ä–∏–∫–æ–ª—é—Ö–∞ 1 </a>
    <a href="animation2.html">–ü—Ä–∏–∫–æ–ª—é—Ö–∞ 2 </a>
    <a href="love.html">–ì–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å –≤–µ—á–µ—Ä–∞</a>
  </header>
  
  <!-- –°—á—ë—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏–π –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏ -->
  <div id="counter">–ù–∞–∂–∞—Ç–∏–π: 0 / 16</div>
  <div id="message">–¢—ã —Å–æ–±—Ä–∞–ª–∞ –º–æ–µ —Å–µ—Ä–¥–µ—á–∫–æ! ‚ù§Ô∏è</div>
  
  <canvas id="gameCanvas"></canvas>
  
  <script>
    // –û–±—ä—è–≤–ª—è–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const counterDiv = document.getElementById('counter');
    const messageDiv = document.getElementById('message');
    
    const totalVertices = 16;     // –í—Å–µ–≥–æ –≤–µ—Ä—à–∏–Ω
    let currentCount = 0;         // –¢–µ–∫—É—â–µ–µ —á–∏—Å–ª–æ –≤–µ—Ä—à–∏–Ω
    const vertices = [];          // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤–µ—Ä—à–∏–Ω
    
    // –§—É–Ω–∫—Ü–∏—è –ø–æ–¥–≥–æ–Ω–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ canvas –∫ —Ä–∞–∑–º–µ—Ä—É –æ–∫–Ω–∞
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      drawGraph(); // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –≥—Ä–∞—Ñ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    
    // –§—É–Ω–∫—Ü–∏—è, —Ä–∏—Å—É—é—â–∞—è —Ç–µ–∫—É—â–∏–π –≥—Ä–∞—Ñ
    function drawGraph() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      if (vertices.length === 0) return;  // –ï—Å–ª–∏ –Ω–µ—Ç –≤–µ—Ä—à–∏–Ω ‚Äì –Ω–µ—á–µ–≥–æ —Ä–∏—Å–æ–≤–∞—Ç—å
      
      // –†–∏—Å—É–µ–º –ª–∏–Ω–∏–∏ –º–µ–∂–¥—É –≤–µ—Ä—à–∏–Ω–∞–º–∏
      ctx.beginPath();
      ctx.moveTo(vertices[0].x, vertices[0].y);
      for (let i = 1; i < vertices.length; i++) {
        ctx.lineTo(vertices[i].x, vertices[i].y);
      }
      // –ï—Å–ª–∏ –≤—Å–µ 16 –≤–µ—Ä—à–∏–Ω —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã ‚Äì –∑–∞–º—ã–∫–∞–µ–º –∫–æ–Ω—Ç—É—Ä
      if (vertices.length === totalVertices) {
        ctx.closePath();
      }
      
      ctx.strokeStyle = '#e74c3c';
      ctx.lineWidth = 2;
      ctx.stroke();
      
      // –†–∏—Å—É–µ–º –≤–µ—Ä—à–∏–Ω—ã –∫–∞–∫ –∫—Ä—É–∂–∫–∏
      vertices.forEach((v) => {
        ctx.beginPath();
        ctx.arc(v.x, v.y, 5, 0, 2 * Math.PI);
        ctx.fillStyle = '#e74c3c';
        ctx.fill();
      });
    }
    
    // –§—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤–µ—Ä—à–∏–Ω—ã —Å–µ—Ä–¥—Ü–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É
    function calculateVertex(index) {
      // t ‚Äì –ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç 0 –¥–æ 2œÄ
      let t = (index / totalVertices) * 2 * Math.PI;
      
      // –£—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–µ—Ä–¥—Ü–∞ (x,y)
      let x = 16 * Math.pow(Math.sin(t), 3);
      let y = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
      
      // –ú–∞—Å—à—Ç–∞–± –∏ —Å–º–µ—â–µ–Ω–∏–µ –∫ —Ü–µ–Ω—Ç—Ä—É
      const scale = Math.min(canvas.width, canvas.height) / 40;
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;
      
      return {
        x: centerX + x * scale,
        y: centerY - y * scale
      };
    }
    
    // –ü—Ä–∏ –∫–ª–∏–∫–µ –º—ã—à—å—é –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—à–∏–Ω—É
    window.addEventListener('click', () => {
      if (currentCount < totalVertices) {
        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—à–∏–Ω—É –≤ –º–∞—Å—Å–∏–≤
        vertices.push(calculateVertex(currentCount));
        currentCount++;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫
        counterDiv.textContent = `–ù–∞–∂–∞—Ç–∏–π: ${currentCount} / ${totalVertices}`;
        
        // –†–∏—Å—É–µ–º –≥—Ä–∞—Ñ –∑–∞–Ω–æ–≤–æ
        drawGraph();
        
        // –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ 16 –≤–µ—Ä—à–∏–Ω ‚Äì –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        if (currentCount === totalVertices) {
          messageDiv.style.display = 'block';
        }
      }
    });
  </script>
  
  <!-- –õ–µ—Ç–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ –Ω–∞ —Ñ–æ–Ω–µ -->
  <script>
    function createFlyingHearts() {
      const numHearts = 50;
      for (let i = 0; i < numHearts; i++) {
        const heart = document.createElement('div');
        heart.classList.add('flying-heart');
        heart.textContent = ['‚ù§','üíï','üíñ','üíò','üíù'][Math.floor(Math.random()*5)];
        heart.style.left = Math.random()*100 + 'vw';
        heart.style.top = Math.random()*100 + 'vh';
        heart.style.animationDuration = (3 + Math.random()*5) + 's';
        heart.style.fontSize = (20 + Math.random()*30) + 'px';
        document.body.appendChild(heart);
      }
    }
    createFlyingHearts();
  </script>
</body>
</html>
